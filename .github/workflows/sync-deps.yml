name: üì¶ Dependency consistency

on:
  pull_request:
  push:
    branches:
      - main

jobs:
  sync-deps:
    name: Dependency Consistency Check
    runs-on: ubuntu-latest
    steps:
      # 1Ô∏è‚É£ Check out your code
      - uses: actions/checkout@v4

      # 2Ô∏è‚É£ Install pnpm (optional, but recommended for pnpm workspaces)
      - uses: pnpm/action-setup@v3
        with:
          version: 10.7.0

      # 3Ô∏è‚É£ Install all dependencies
      - run: pnpm install

      # 4Ô∏è‚É£ Run Syncpack‚Äôs linter to catch any version mismatches
      - name: Check for version mismatches
        run: pnpm run sync:check
